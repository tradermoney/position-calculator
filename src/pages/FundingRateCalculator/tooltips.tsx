/**
 * 资金费率计算器 - 字段提示信息
 */

import React from 'react';
import { Box, Typography } from '@mui/material';

// 创建多行提示的辅助组件
const TooltipContent: React.FC<{ title: string; lines: string[] }> = ({ title, lines }) => (
  <Box sx={{ p: 0.5 }}>
    <Typography variant="subtitle2" sx={{ fontWeight: 'bold', mb: 0.5 }}>
      {title}
    </Typography>
    {lines.map((line, index) => (
      <Typography key={index} variant="body2" sx={{ mb: index < lines.length - 1 ? 0.3 : 0 }}>
        {line}
      </Typography>
    ))}
  </Box>
);

export const TOOLTIPS = {
  // 交易对
  symbol: (
    <TooltipContent
      title="交易对"
      lines={[
        '选择要计算资金费率的永续合约交易对',
        '• 格式：BTCUSDT、ETHUSDT 等',
        '• 数据来源：币安合约 API',
        '• 只支持 USDT 本位永续合约',
        '• 不同交易对的资金费率差异很大',
      ]}
    />
  ),

  // 做多仓位
  longPosition: (
    <TooltipContent
      title="做多仓位"
      lines={[
        '持有的做多（买入开多）仓位大小',
        '• 单位：USDT（仓位价值）',
        '• 正费率时：做多方需要支付资金费',
        '• 负费率时：做多方可以获得资金费',
        '• 如果不持有做多仓位，保持为 0',
      ]}
    />
  ),

  // 做空仓位
  shortPosition: (
    <TooltipContent
      title="做空仓位"
      lines={[
        '持有的做空（卖出开空）仓位大小',
        '• 单位：USDT（仓位价值）',
        '• 正费率时：做空方可以获得资金费',
        '• 负费率时：做空方需要支付资金费',
        '• 如果不持有做空仓位，保持为 0',
      ]}
    />
  ),

  // 直接输入模式
  directInputMode: (
    <TooltipContent
      title="直接输入模式"
      lines={[
        '直接输入仓位的 USDT 价值',
        '• 适合：知道仓位总价值的情况',
        '• 例如：仓位价值 10000 USDT',
        '• 计算更简单直接',
      ]}
    />
  ),

  // 价格×数量模式
  priceQuantityMode: (
    <TooltipContent
      title="价格×数量模式"
      lines={[
        '通过开仓价格和持仓数量计算仓位大小',
        '• 适合：知道具体持仓数量的情况',
        '• 仓位大小 = 开仓价格 × 持仓数量',
        '• 例如：3000 USDT/个 × 2 个 = 6000 USDT',
      ]}
    />
  ),

  // 开仓价格
  entryPrice: (
    <TooltipContent
      title="开仓价格"
      lines={[
        '建仓时的合约价格',
        '• 单位：USDT',
        '• 用于计算仓位大小',
        '• 仓位大小 = 开仓价格 × 数量',
        '• 注意：资金费率与开仓价格无关，只与仓位大小有关',
      ]}
    />
  ),

  // 持仓数量
  quantity: (
    <TooltipContent
      title="持仓数量"
      lines={[
        '持有的合约数量',
        '• 单位：张/个（根据合约规则）',
        '• 用于计算仓位大小',
        '• 仓位大小 = 开仓价格 × 数量',
        '• 可以是小数（如 0.1、1.5 等）',
      ]}
    />
  ),

  // 时间模式
  timeMode: (
    <TooltipContent
      title="时间模式"
      lines={[
        '选择计算历史成本还是预估未来成本',
        '',
        '【已持有时间】',
        '• 计算已经持有仓位的历史资金费用',
        '• 显示"实际资金费用"',
        '• 基于历史实际费率',
        '',
        '【预估持有时间】',
        '• 预估未来持有仓位的资金费用',
        '• 显示"预估资金费用"',
        '• 基于最近7天平均费率',
      ]}
    />
  ),

  // 持有时间
  holdingTime: (
    <TooltipContent
      title="持有时间"
      lines={[
        '仓位持有的总时间长度',
        '• 单位：小时',
        '• 用于计算经历多少个资金费率周期',
        '• 币安每 8 小时结算一次资金费率',
        '• 结算时间：00:00、08:00、16:00 UTC',
        '• 提示：可使用快捷按钮快速选择',
      ]}
    />
  ),

  // 净资金费用
  netCost: (
    <TooltipContent
      title="净资金费用（对冲后）"
      lines={[
        '同时持有做多和做空仓位时的净成本',
        '• 计算公式：做多费用 + 做空费用',
        '• 对冲可以降低资金费率风险',
        '• 负数：净支出（从账户扣除）',
        '• 正数：净收入（添加到账户）',
        '• 示例：做多支出-10，做空收入+6，净成本=-4（净支出4 USDT）',
      ]}
    />
  ),

  // 做多资金费用
  longCost: (
    <TooltipContent
      title="做多仓位资金费用"
      lines={[
        '做多仓位需要支付或获得的资金费',
        '• 计算：仓位大小 × (-资金费率) × 周期数',
        '• 正费率时：支付资金费 → 负数（扣款）',
        '• 负费率时：获得资金费 → 正数（入账）',
        '• 基于最近7天平均费率计算',
      ]}
    />
  ),

  // 做空资金费用
  shortCost: (
    <TooltipContent
      title="做空仓位资金费用"
      lines={[
        '做空仓位需要支付或获得的资金费',
        '• 计算：仓位大小 × 资金费率 × 周期数',
        '• 正费率时：获得资金费 → 正数（入账）',
        '• 负费率时：支付资金费 → 负数（扣款）',
        '• 基于最近7天平均费率计算',
      ]}
    />
  ),

  // 总资金费用
  totalCost: (
    <TooltipContent
      title="总资金费用"
      lines={[
        '单向持仓的总资金费用',
        '• 仅持有做多或做空其中一个方向',
        '• 计算：仓位大小 × 费率 × 周期数',
        '• 负数：需要支付（扣款）',
        '• 正数：可以获得（入账）',
      ]}
    />
  ),

  // 当前资金费率
  currentRate: (
    <TooltipContent
      title="当前资金费率"
      lines={[
        '当前时刻的实时资金费率',
        '• 每 8 小时结算一次',
        '• 在结算时刻实际收取或支付',
        '• 正费率：做多付给做空',
        '• 负费率：做空付给做多',
        '• 费率范围通常在 -0.5% ~ +0.5%',
        '• 极端行情可能超出此范围',
      ]}
    />
  ),

  // 7天平均费率
  avg7Days: (
    <TooltipContent
      title="7天平均费率"
      lines={[
        '最近 7 天的资金费率平均值',
        '• 计算：所有历史费率的算术平均',
        '• 数据点：约 21 个（7天×3次/天）',
        '• 用于预估未来资金费率',
        '• 比当前费率更稳定可靠',
        '• 适合作为预估成本的依据',
      ]}
    />
  ),

  // 30天平均费率
  avg30Days: (
    <TooltipContent
      title="30天平均费率"
      lines={[
        '最近 30 天的资金费率平均值',
        '• 计算：所有历史费率的算术平均',
        '• 数据点：约 90 个（30天×3次/天）',
        '• 反映长期资金费率趋势',
        '• 更平滑，波动更小',
        '• 可与7天平均对比，判断趋势',
      ]}
    />
  ),

  // 资金费率周期数
  periods: (
    <TooltipContent
      title="资金费率周期数"
      lines={[
        '持有时间内经历的资金费率结算次数',
        '• 不同交易对的结算周期可能不同',
        '• 大多数币种：每 8 小时结算一次',
        '• 部分币种：每 4 小时结算一次',
        '• 计算：持有小时数 ÷ 结算周期（向上取整）',
        '• 例如：24小时 ÷ 8小时 = 3个周期',
        '• 周期数越多，累计费用越多',
      ]}
    />
  ),

  // 结算周期
  fundingInterval: (
    <TooltipContent
      title="结算周期"
      lines={[
        '当前交易对的实际资金费率结算周期',
        '• 从历史资金费率数据中自动计算',
        '• 分析最近10次结算的时间间隔',
        '• 大多数币种：每 8 小时结算一次',
        '• 部分币种：每 4 小时结算一次',
        '• 不同交易对的结算周期各不相同',
        '• 结算周期越短，费用调整越频繁',
      ]}
    />
  ),

  // 数据点数量
  dataPoints: (
    <TooltipContent
      title="数据点数量"
      lines={[
        '用于计算平均费率的历史数据数量',
        '• 从币安API获取的历史费率记录数',
        '• 通常最多返回最近30天数据',
        '• 理论最多：90个（30天×3次/天）',
        '• 数据点越多，平均值越准确',
        '• 如果数量较少，可能是新上线的交易对',
      ]}
    />
  ),

  // 下次结算时间
  nextSettlement: (
    <TooltipContent
      title="下次结算时间"
      lines={[
        '下一次资金费率结算的时间点',
        '• 币安结算时间：00:00、08:00、16:00 UTC',
        '• 显示的是当地时间',
        '• 在结算时刻持仓才会收取或支付资金费',
        '• 可在结算前平仓避免资金费',
      ]}
    />
  ),
};

