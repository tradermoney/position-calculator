# 资金费率计算器 - 快速启动指南

## 🚀 快速开始

### 1. 启动项目

```bash
# 进入项目目录
cd /Users/cc11001100/github/tradermoney/position-calculator

# 启动开发服务器
npm run dev
```

### 2. 访问页面

打开浏览器访问：
```
http://localhost:5173/position-calculator/funding-rate-calculator
```

### 3. 开始使用

1. **选择交易对**：点击"交易对"输入框，搜索或选择币种（如：BTCUSDT）
2. **输入仓位**：在"仓位大小"输入框中输入您的仓位金额（USDT）
3. **设置时间**：在"预计持有时间"输入框中输入小时数
4. **查看结果**：右侧自动显示预估费用和统计数据

## 📊 使用示例

### 示例 1：计算BTC短期持仓成本

```
输入：
- 交易对: BTCUSDT
- 仓位大小: 10000 USDT
- 持有时间: 24 小时

结果：
- 预估费用: ~3.00 USDT
- 结算次数: 3次（每8小时一次）
```

### 示例 2：计算ETH中期持仓成本

```
输入：
- 交易对: ETHUSDT
- 仓位大小: 50000 USDT
- 持有时间: 168 小时（7天）

结果：
- 预估费用: ~105.00 USDT
- 结算次数: 21次
```

## 🧪 测试功能

运行测试脚本验证API功能：

```bash
node test-funding-rate-calculator.js
```

预期输出：
```
✅ 所有测试通过！
测试1: 获取资金费率历史 - ✅
测试2: 获取当前资金费率 - ✅
测试3: 获取交易对信息 - ✅
测试4: 费用计算功能 - ✅
```

## 📱 界面布局

```
┌─────────────────────────────────────────┐
│     资金费率计算器                        │
├─────────────────┬───────────────────────┤
│  计算参数       │  预估结果              │
├─────────────────┼───────────────────────┤
│  交易对         │  预估资金费用          │
│  [BTCUSDT  ▼]  │  [3.00 USDT]         │
│                 │                       │
│  仓位大小       │  当前费率: 0.0043%    │
│  [10000]       │  [做多付费]           │
│                 │                       │
│  持有时间       │  7天平均: 0.0072%     │
│  [24]小时      │  30天平均: 0.0065%    │
│  约1天,3个周期  │                       │
│                 │  下次结算:            │
│                 │  2025/10/10 16:00    │
└─────────────────┴───────────────────────┘
│         使用说明                          │
└─────────────────────────────────────────┘
```

## 💡 功能说明

### 计算参数

| 参数 | 说明 | 示例 |
|------|------|------|
| 交易对 | 币安永续合约交易对 | BTCUSDT, ETHUSDT |
| 仓位大小 | 持仓的名义价值（USDT） | 10000 |
| 持有时间 | 预计持有的小时数 | 24, 168 |

### 预估结果

| 指标 | 说明 |
|------|------|
| 预估费用 | 基于7天平均费率计算的总费用 |
| 当前费率 | 最新一次的资金费率 |
| 7天平均 | 最近7天的平均资金费率 |
| 30天平均 | 最近30天的平均资金费率 |
| 下次结算 | 下一次资金费率结算时间 |

### 支付方向

- 🔴 **做多付费**：资金费率为正，做多方支付给做空方
- 🟢 **做空付费**：资金费率为负，做空方支付给做多方

## 🔧 常见问题

### Q1: 为什么我的预估费用和实际不一样？

**A**: 预估基于历史平均数据，实际费率会实时变化。建议：
- 定期更新预估
- 关注市场变化
- 预留费用缓冲

### Q2: 如何选择交易对？

**A**: 有三种方式：
1. 直接输入交易对名称（如：BTC）
2. 点击下拉菜单浏览
3. 使用搜索功能快速查找

### Q3: 计算结果多久更新一次？

**A**: 
- 输入参数变化时立即计算
- 资金费率数据在页面加载和切换交易对时更新
- 可刷新页面获取最新数据

### Q4: 支持哪些交易对？

**A**: 支持所有币安永续合约，包括：
- 主流币种：BTC, ETH, BNB, SOL, XRP 等
- 山寨币种：DOGE, SHIB, PEPE 等
- 总计：549+ 个交易对

### Q5: 负费率是什么意思？

**A**: 负费率意味着：
- 做空方支付给做多方
- 持有做多仓位可以获得费用收入
- 通常发生在市场看跌情绪浓厚时

## 📖 相关文档

- **详细文档**: `docs/FUNDING_RATE_CALCULATOR.md`
- **更新日志**: `CHANGELOG_FUNDING_RATE.md`
- **开发总结**: `FUNDING_RATE_CALCULATOR_README.md`

## 🎯 使用技巧

### 1. 成本优化

```
策略：比较不同持有时间的成本
方法：依次输入24h、48h、72h查看费用
目标：找到成本最优的持仓时长
```

### 2. 套利评估

```
策略：计算套利交易的资金成本
方法：输入套利仓位和预期持续时间
目标：评估资金费用对套利收益的影响
```

### 3. 风险管理

```
策略：预估长期持仓的额外成本
方法：输入计划持有的天数（×24小时）
目标：判断是否值得长期持有
```

## ⚡ 快捷键（建议）

| 操作 | 快捷键 | 说明 |
|------|--------|------|
| 选择交易对 | Tab | 跳转到交易对输入框 |
| 输入仓位 | Tab | 跳转到仓位输入框 |
| 输入时间 | Tab | 跳转到时间输入框 |
| 刷新数据 | F5 | 重新加载最新数据 |

## 🔄 数据更新频率

| 数据类型 | 更新频率 |
|---------|---------|
| 交易对列表 | 页面加载时 |
| 当前费率 | 切换交易对时 |
| 历史数据 | 切换交易对时 |
| 计算结果 | 输入变化时 |

## 🎨 自定义设置

### 主题切换

点击右上角的主题按钮可以切换：
- 🌙 深色模式（暗黑主题）
- ☀️ 浅色模式（明亮主题）

### 语言设置

当前界面为中文，未来版本将支持：
- 🇨🇳 简体中文（当前）
- 🇬🇧 English（计划中）

## 📞 反馈与支持

遇到问题或有建议？

1. **GitHub Issues**: 提交问题或建议
2. **文档查询**: 查看详细文档
3. **测试验证**: 运行测试脚本诊断

## ✨ 开始使用

现在您已经了解了所有基础知识，可以开始使用资金费率计算器了！

```bash
# 1. 启动服务
npm run dev

# 2. 打开浏览器
# http://localhost:5173/position-calculator/funding-rate-calculator

# 3. 开始计算！
```

祝您交易顺利！📈


