# 保本回报率计算器测试计划

## 测试环境
- URL: http://localhost:5173/position-calculator/break-even-calculator
- 测试日期: 2025-10-06
- 测试目标: 验证保本回报率计算器的功能和计算准确性

## 测试用例详情

### 1. 页面加载和基本显示测试
**测试步骤:**
1. 打开浏览器，导航到 http://localhost:5173/position-calculator/break-even-calculator
2. 验证页面标题是否显示"保本回报率计算器"
3. 验证页面描述是否正确显示
4. 验证计算参数设置卡片是否显示
5. 验证结果面板是否显示

**预期结果:**
- 页面标题正确显示
- 所有UI组件正常加载
- 没有JavaScript错误

### 2. 杠杆倍数输入测试
**测试步骤:**
1. 在杠杆倍数输入框中输入50
2. 验证滑块是否同步更新到50x
3. 测试滑块拖动到150x
4. 验证输入框是否同步更新到150
5. 测试边界值：输入1和200

**预期结果:**
- 输入框和滑块双向绑定正常
- 边界值测试通过
- 数值范围限制正确(1-200)

### 3. 开仓手续费率输入测试
**测试步骤:**
1. 在开仓手续费率输入框中输入0.03
2. 验证滑块是否同步更新
3. 测试滑块调整到0.1%
4. 验证输入框同步更新
5. 测试边界值：0和1%

**预期结果:**
- 双向绑定正常工作
- 小数精度正确显示
- 边界值限制正确

### 4. 平仓手续费率输入测试
**测试步骤:**
1. 在平仓手续费率输入框中输入0.08
2. 验证计算结果是否实时更新
3. 测试负值输入（应该被拒绝）
4. 测试超过1%的值（应该被限制）

**预期结果:**
- 输入验证正确
- 负值和超限值被正确处理
- 计算结果实时更新

### 5. 资金费率输入测试
**测试步骤:**
1. 输入资金费率0.01%
2. 测试正负值：-0.02%
3. 验证资金费率成本计算
4. 测试边界值：-0.5%到0.5%

**预期结果:**
- 支持正负资金费率
- 负资金费率时显示为收益（降低保本要求）
- 边界值限制正确

### 6. 资金费率结算周期测试
**测试步骤:**
1. 选择1小时结算周期
2. 选择4小时结算周期
3. 选择8小时结算周期（默认）
4. 选择24小时结算周期

**预期结果:**
- 所有选项都能正常选择
- 计算结果根据结算周期正确更新
- 默认值正确为8小时

### 7. 持仓时间输入测试
**测试步骤:**
1. 输入持仓时间12小时
2. 测试滑块调整
3. 测试边界值：0小时和168小时
4. 验证资金费率成本随持仓时间变化

**预期结果:**
- 输入验证正确
- 资金费率成本计算准确
- 滑块和输入框同步正常

### 8. 计算结果验证测试
**测试数据:**
- 杠杆倍数: 100x
- 开仓手续费率: 0.05%
- 平仓手续费率: 0.05%
- 资金费率: 0.01%
- 资金费率结算周期: 8小时
- 持仓时间: 24小时

**计算公式验证:**
- 开仓成本占比 = 0.05% × 100 = 5%
- 平仓成本占比 = 0.05% × 100 = 5%
- 资金费率成本占比 = 0.01% × 100 × (24÷8) = 0.3%
- 保本回报率 = 5% + 5% + 0.3% = 10.3%

**预期结果:**
- 保本回报率显示为10.3000%
- 开仓成本: 5.0000%
- 平仓成本: 5.0000%
- 资金费率成本: 0.3000%
- 总手续费: 10.0000%

### 9. 重置功能测试
**测试步骤:**
1. 修改所有输入参数
2. 点击重置按钮
3. 验证所有参数恢复到默认值

**默认值验证:**
- 杠杆倍数: 100x
- 开仓手续费率: 0.05%
- 平仓手续费率: 0.05%
- 资金费率: 0.01%
- 资金费率结算周期: 8小时
- 持仓时间: 24小时

### 10. 错误处理测试
**测试步骤:**
1. 输入无效的杠杆倍数（0或负数）
2. 输入超出范围的费率
3. 验证错误提示显示
4. 验证计算结果不会显示

**预期结果:**
- 错误提示正确显示
- 无效输入被拒绝或自动修正
- 用户体验友好

### 11. 响应式设计测试
**测试步骤:**
1. 在桌面浏览器中测试
2. 调整浏览器窗口大小
3. 在移动设备视图中测试

**预期结果:**
- 布局自适应正确
- 移动端用户体验良好
- 所有功能在不同设备上正常工作

### 12. 性能测试
**测试步骤:**
1. 快速连续调整多个参数
2. 验证计算响应速度
3. 检查是否有延迟或卡顿

**预期结果:**
- 计算响应迅速
- 界面流畅无卡顿
- 用户交互体验良好

## 测试结果记录

### 测试执行状态
- [ ] 页面加载测试
- [ ] 杠杆倍数测试
- [ ] 开仓手续费率测试
- [ ] 平仓手续费率测试
- [ ] 资金费率测试
- [ ] 结算周期测试
- [ ] 持仓时间测试
- [ ] 计算结果验证
- [ ] 重置功能测试
- [ ] 错误处理测试
- [ ] 响应式设计测试
- [ ] 性能测试

### 发现的问题
记录测试过程中发现的任何问题：

### 测试总结
总体评估：
- 功能完整性:
- 计算准确性:
- 用户体验:
- 性能表现:

## 附录

### 计算公式详解
保本回报率计算的核心公式：
```
开仓成本占比 = 开仓手续费率 × 杠杆倍数
平仓成本占比 = 平仓手续费率 × 杠杆倍数
资金费率成本占比 = 资金费率 × 杠杆倍数 × (持仓时间 ÷ 结算周期)
保本回报率 = 开仓成本占比 + 平仓成本占比 + 资金费率成本占比
```

### 测试数据参考
更多测试场景和边界值：
1. 高杠杆场景（200x）
2. 长期持仓场景（168小时）
3. 高费率场景（1%手续费）
4. 负资金费率场景
5. 零持仓时间场景